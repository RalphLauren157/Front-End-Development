<!DOCTYPE html>
<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <link rel = 'stylesheet' href = "style.css">
        <script defer src = 'input.js'></script>
        <script defer src = 'nav.js'></script>
        <title>Order</title>

        <script>
            //Switch between logged in and logged out
            document.addEventListener("DOMContentLoaded", function() {
                const loginBtn = document.getElementById("direct-login");
                const signupBtn = document.getElementById("sign-up") 
                const logoutBtn = document.getElementById("logout")

                const loggedInUser = sessionStorage.getItem("loggedInUser");

                //hide log in and sign up buttons when logged in
                if (loggedInUser) {
                    if (loginBtn) loginBtn.style.display = "none";
                    if (signupBtn) signupBtn.style.display = "none";
                    if (logoutBtn) logoutBtn.style.display = "flex";
                }

                //Logout functionality
                if (logoutBtn) {
                    logoutBtn.addEventListener("click", function() {
                        sessionStorage.removeItem("loggedInUser");
                        // window.location.href = "login.html";
                    });
                }
            });
        </script>
    </head>
    <body>
        <header>
            <div class = "off-screen-menu">
                <ul>
                    <li><a href="homepage.html" style = "font-family: 'Noto Sans SC', sans-serif;">Home</a></li>
                    <li><a href="menu.html" style = "text-decoration: none;">Menu</a></li>
                    <li><a href="basket.html" style = "text-decoration: none;">Order</a></li>
                </ul>
            </div>
            <div class = "nav">
                <div class = "ham-menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <div class = "navbar-left">
                    <a href="homepage.html"></a><div>Home</div></a>
                    <a href="menu.html"><div>Menu</div></a>
                    <a href="basket.html"><div>Order</div></a>
                </div>
                <div class = "navbar-right">
                    <a href="login.html" id="sign-up" class="sign-up" style="text-decoration: none;">Sign up</a>
                    <a href="login.html" id="direct-login" class="sign-in" style="text-decoration: none;">Sign in</a>
                    <a href="login.html" id="logout" style="display:none;" style="text-decoration: none;">Logout</a>
                </div>
            </div>
        </header>
        <main>
            <article style = "align-items: center;">
                <h1 class = "name">Basket</h1>
                <div id="basket-container" class="container mt-4">
                    <ul id="basket-items" class="list-group"></ul>
                    <div class="basket-buttons mt-3">
                        <button id="clear-basket" class="clearBasket-btn" style="display: none;">Clear Basket</button>
                        <a href="menu.html" id="menu-link" class="backToMenu" style="text-decoration: none;">Menu</a>
                        <button id="checkout" class="checkout-btn" style="display: none;">Checkout</button>
                    </div>
                    <div id="subtotal-container" class="subtotal">
                        <span>Subtotal - <span id="subtotal-amount">0.00</span></span>
                    </div>
                </div>
            </article>
        </main>
    </body>
</html>